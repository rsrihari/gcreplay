<!DOCTYPE html>
<html>
    
    <head>

        <title>GC - Replay | The Scholars' Avenue</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Bootstrap -->
        <link href="css/bootstrap.css" rel="stylesheet" media="screen">
        <script src="http://code.jquery.com/jquery.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/bootstrap-popover.js"></script>
        <script src="js/bootstrap-tooltip.js"></script>

    </head>
    
    <body class="container" data-spy="scroll" data-container=".navbar">

        <div class="navbar navbar-fixed-top navbar-inverse">
            <div class="navbar-inner">
                <div class="container">	<a class="brand" href="#">Home</a>

                    <ul class="nav affix">
                        <li class="active"><a href="#soc-cult"><i class="icon-chevron-right"></i> Social and Cultural</a>

                        </li>
                        <li><a href="#sports"><i class="icon-chevron-right"></i> Sports</a>

                        </li>
                        <li><a href="#tech"><i class="icon-chevron-right"></i> Technology</a>

                        </li>
                    </ul>
                </div>
            </div>
        </div>

<div class="page-header">
  <h1>The Scholars' Avenue <small>Data Visualization</small></h1>
</div>

        <div class="hero-unit">
             <h1>Gc-Replay</h1>
            <p>Relive the best moments of this years' General Championships</p>
            <p>
	    <a href="#myModal" role="button" class="btn btn-primary btn-large" data-toggle="modal">Get started</a> 
	    <!-- Modal -->
	    <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
		    	<h3 id="myModalLabel">Description of how to use this webpage</h3>

		</div>
		<div class="modal-body">
		    <p>Instructions</p>
		</div>
		<div class="modal-footer">
		    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
		</div>
	    </div>
	    </p>
        </div>

	<hr/>

        <section id="soc-cult"><br/><br/>
	<h3>Social and Cultural General Championship</h3>
	<div class="row">

            <div class="span8" id='soc-cult-content'><hr/><h4>Timeline</h4></div>

	<div class="span4 standings">
		<h4>Final Standings</h4>
		<div class="progress progress-success"><div class="bar" style="width: 80%">RK</div>&nbsp <span class="label label-success">780</span>
		</div>
		<div class="progress progress-warning"><div class="bar" style="width: 65%">Azad</div>&nbsp <span class="label label-warning">550</span>
		</div>
		<div class="progress progress-danger"><div class="bar" style="width: 40%">Nehru</div>&nbsp <span class="label label-important">480</span>
		</div>
	</div>

	</div>
	<p><h5>LEGEND</h5><span class="label label-info">GC event</span> <span class="label label-inverse">Milestone - Cup secured</span> <span class="label label-success">GC winning/sealing event</span></p>
	<hr/>

<h4>Hall ranking timeline</h4>

    <div id="soc-cult-visualization" style="width: 500px; height: 400px;"></div>

        </section>

        <section id="sports"><br/><br/>
	<h3>Sports and Games General Championship</h3>
	<div class="row">

            <div class="span8" id='sports-content'><hr/></div>

	<div class="span4 standings">
		<h4>Final Standings</h4>
		<div class="progress progress-success"><div class="bar" style="width: 80%">RK</div>&nbsp <span class="label label-success">780</span>
		</div>
		<div class="progress progress-warning"><div class="bar" style="width: 65%">Azad</div>&nbsp <span class="label label-warning">550</span>
		</div>
		<div class="progress progress-danger"><div class="bar" style="width: 40%">Nehru</div>&nbsp <span class="label label-important">480</span>
		</div>
	</div>

	</div>
	<p><h5>LEGEND</h5><span class="label label-info">GC event</span> <span class="label label-inverse">Milestone - Cup secured</span> <span class="label label-success">GC winning/sealing event</span></p>
	<hr/>

<h4>Hall ranking timeline</h4>

    <div id="sports-visualization" style="width: 500px; height: 400px;"></div>

        </section>

        <section id="tech"><br/><br/>
	<h3>Technology General Championship</h3>
	<div class="row">

            <div class="span8" id='tech-content'><hr/></div>

	<div class="span4 standings">
		<h4>Final Standings</h4>
		<div class="progress progress-success"><div class="bar" style="width: 80%">RK</div>&nbsp <span class="label label-success">780</span>
		</div>
		<div class="progress progress-warning"><div class="bar" style="width: 65%">Azad</div>&nbsp <span class="label label-warning">550</span>
		</div>
		<div class="progress progress-danger"><div class="bar" style="width: 40%">Nehru</div>&nbsp <span class="label label-important">480</span>
		</div>
	</div>

	</div>
	<p><h5>LEGEND</h5><span class="label label-info">GC event</span> <span class="label label-inverse">Milestone - Cup secured</span> <span class="label label-success">GC winning/sealing event</span></p>
	<hr/>

<h4>Hall ranking timeline</h4>

    <div id="tech-visualization" style="width: 500px; height: 400px;"></div>

        </section>

<hr/>

        <!-- Custom scripts -->
        <script>
            $("a[data-toggle=tooltip]")
                .tooltip();
            $("a[data-toggle=popover]")
                .popover();

	var month, refMonth = ["Sep", "Sep", "Sep"];

            $(function () {
                $.getJSON('data/gc-data.json', function (data) {
                    $.each(data.events, function (i, f) {
			var gc = f.gc;
                        var region = document.getElementById(gc + '-content');
                        var textPop = f.text;
                        var linkPop = f.link;
                        var timePop = f.time;
			var milestone = f.milestone;
			month = timePop.substring(3,' ');

                        var newElement = document.createElement('a');
			var blankElement = document.createElement('span');
			blankElement.innerHTML = "&nbsp";
			var breakElement = document.createElement('span');
			breakElement.innerHTML = "<br>";

                        var divId = 'data-' + i;
                        newElement.setAttribute('id', divId);
                        newElement.setAttribute('data-original-title', timePop);
                        newElement.setAttribute('data-content', textPop);
console.log(milestone);
			if (milestone == 2) newElement.setAttribute('class', 'label label-success');
			else if (milestone == 1) newElement.setAttribute('class', 'label label-inverse');
			else newElement.setAttribute('class', 'label label-info');
                        newElement.innerHTML = timePop;

			if(gc == "soc-cult") var k = 0;
			else if(gc == "sports") var k = 1;
			else var k = 2;

			if(refMonth[k] == month) {
			region.appendChild(newElement);
			region.appendChild(blankElement);
			}
			else {
			refMonth[k] = month;
			region.appendChild(breakElement);
			region.appendChild(newElement);
			region.appendChild(blankElement);			
			}

                        $('#' + divId)
                            .popover();

                    });
                });
            });

        </script>

	<script type="text/javascript" src="http://www.google.com/jsapi"></script>

	<script>

google.load('visualization', '1', {packages: ['corechart']});

function drawVisualization() {
        // Create and populate the data table.
        var data = google.visualization.arrayToDataTable([
          ['x', 'Patel', 'Nehru', 'RK', 'Azad', 'LLR', 'HJB', 'MMM', 'LBS', 'MS', 'RP', 'SN'],
          ['Ad design',  1, 4, 2, 4, 3, 4, 4, 4, 4, 4, 4],
          ['Product design', 1, 2, 3, 4, 5, 6, 6, 6, 6, 6, 6],
          ['Case Study',  2, 1, 4, 5, 3, 6, 6, 6, 6, 6, 6],
          ['Biz Quiz',  2, 1, 5, 4, 3, 7, 7, 7, 6, 7, 7],
          ['Tech Quiz', 2, 1, 5, 3, 4, 8, 8, 8, 6, 6, 8],
          ['Maths Olympiad',  3, 1, 5, 2, 4, 9, 9, 5, 7, 7, 9],
          ['Chemical Innovation',  4, 1, 5, 3, 2, 10, 7, 6, 8, 8, 10],
          ['OpenSoft', 5, 1, 4, 3, 2, 10, 7, 6, 8, 8, 10],
          ['Hardware modelling', 5, 1, 3, 4, 2, 10, 8, 7, 9, 6, 10],
        ]);
      
        // Create and draw the visualization.
        new google.visualization.LineChart(document.getElementById('tech-visualization')).
            draw(data, {curveType: "function",
                        width: 800, height: 400,
                        vAxis: {title: 'Rank', maxValue: 10, direction: -1, textPosition: 'none', gridlines: {color: '#EEE', count: 10}}, title: 'GC Timeline Rank', 
                        hAxis: {title: 'GC Progress', textPosition: 'none', gridlines: {color: '#EEE', count: 10}}
                       });
      }
      

      google.setOnLoadCallback(drawVisualization);

</script>

    </body>

</html>
